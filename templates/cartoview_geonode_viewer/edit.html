{% extends "cartoview/base.html" %}
{% block title %}
    {{ block.super }} - {% if instance %}{{ instance.title }}{% else %}New Map Viewer{% endif %}
{% endblock %}
{% block styles %}
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons"
          rel="stylesheet">
    <style>
        .dialogdemoBasicUsage #popupContainer {
            position: relative;
        }

        .dialogdemoBasicUsage .footer {
            width: 100%;
            text-align: center;
            margin-left: 20px;
        }

        .dialogdemoBasicUsage .footer, .dialogdemoBasicUsage .footer > code {
            font-size: 0.8em;
            margin-top: 50px;
        }

        .dialogdemoBasicUsage button {
            width: 200px;
        }

        .dialogdemoBasicUsage div#status {
            color: #c60008;
        }

        .dialogdemoBasicUsage .dialog-demo-prerendered md-checkbox {
            margin-bottom: 0;
        }
        .checkboxdemoSelectAll .demo-legend {
  color: #3F51B5; }

.checkboxdemoSelectAll .demo-fieldset {
  border-style: solid;
  border-width: 1px;
  height: 100%; }

.checkboxdemoSelectAll .demo-select-all-checkboxes {
  padding-left: 30px; }
    </style>
    <link rel="stylesheet" href="{{ STATIC_URL }}cartoview_map_viewer/css/edit.css">
    {% for w in widgets %}
        {% for css_url in w.config.css %}
            <link rel="stylesheet" href="{{ css_url }}">{% endfor %}
    {% endfor %}
{% endblock %}
{% block scripts %}
    <script type="text/javascript" src="{{ STATIC_URL }}vendor/angular-resource/angular-resource.min.js"></script>
    <script type="text/javascript"
            src="{{ STATIC_URL }}vendor/angular-resource-tastypie/src/angular-resource-tastypie.min.js"></script>
    {% include "cartoview_map_viewer/dynamic_edit_js.html" %}
    <script type="text/javascript" src="{{ STATIC_URL }}cartoview_map_viewer/js/edit.js"></script>
    <script type="text/javascript" src="{{ STATIC_URL }}cartoview_map_viewer/js/edit/data-service.js"></script>
    <script type="text/javascript"
            src="{{ STATIC_URL }}cartoview_map_viewer/js/edit/map-selector-directive.js"></script>
    <script type="text/javascript"
            src="{{ STATIC_URL }}cartoview_map_viewer/js/edit/basic-config-directive.js"></script>
    <script type="text/javascript" src="{{ STATIC_URL }}cartoview_geonode_viewer/actions-bar-directive.js"></script>
    <script type="text/javascript" src="{{ STATIC_URL }}cartoview_geonode_viewer/controls-directive.js"></script>
    <script>
    var geoserver_url="{{ GEOSERVER_BASE_URL }}";
    </script>
{% endblock %}
{% block body_directives %}ng-app="cartoview.viewer.editor"{% endblock %}

{% block body %}
    <div layout="row" layout-align="center center" layout-wrap>
        <md-content layout-padding flex-gt-sm="70" flex="100">
          {% load static %}
<div layout="row">
  <div layout="column" flex="25">
    <a href="/">
     <img src="{% static 'cartoview_geonode_viewer/cartoview-logo-text.png' %}"  />
   </a>
  </div>
  <div layout="column" flex="65" >
     <h3  style="text-align:right ;color:#6E6E6E;">Webapp Builder</h3>
  </div>

</div>
<hr style="padding:0px;border: 1px solid #6E6E6E"/>

            <h4>{% if instance %}Edit: {{ instance.title }}{% else %}New Map Viewer{% endif %}</h4>
            <map-selector></map-selector>
            <div>

                <basic-config></basic-config>
                <basic-controls></basic-controls>
                <actions-bar ng-if="selected.map"></actions-bar>
            </div>
        </md-content>
    </div>

{% endblock %}
